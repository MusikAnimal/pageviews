<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='yes' name='apple-mobile-web-app-capable'>
    <meta content='black-translucent' name='apple-mobile-web-app-status-bar-style'>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'>
    <link href='/pageviews/application.css' rel='stylesheet'>
    <script src='/pageviews/application.js'></script>
    <title>Pageviews Analysis – URL Structure</title>
  </head>
  <body>
    <div class='container'>
      <div class='col-lg-offset-2'>
        <!-- Header -->
        <header class='row aqs-row'>
          <div class='col-lg-10 text-center'>
            <h4>
              <strong>
                Pageviews Analysis – URL Structure
              </strong>
            </h4>
          </div>
        </header>
        <div class='col-lg-10'>
          To get the latest data on a given article on your wiki, with default options, use:
          <pre>//tools.wmflabs.org/pageviews#project=en.wikipedia.org&pages={{FULLPAGENAMEE}}</pre>
          replacing <code>en.wikipedia.org</code> with a valid <a href="https://meta.wikimedia.org/w/api.php?action=sitematrix&formatversion=2">project</a>. <code>{{FULLPAGENAMEE}}</code> will resolve to the page the link is placed on
          <p class='intro'>
            Pageviews Analysis uses the JavaScript <a href="https://en.wikipedia.org/wiki/Fragment_identifier">fragment identifier</a> to construct the URL parameters. This means instead of <code>?</code> all parameters follow a hashmark <code>#</code>
          </p>
        </div>
        <div class='col-lg-10'>
          <h3>
            Parameters
            <small>Can be used in any order</small>
          </h3>
          <hr>
          <dl class='dl-horizontal'>
            <dt>project</dt>
            <dd>
              <code>en.wikipedia.org</code>
              (default) or other valid <a href="https://meta.wikimedia.org/w/api.php?action=sitematrix&formatversion=2">project</a>
            </dd>
            <dt>pages</dt>
            <dd>
              Escaped page names separated by a pipe <code>|</code> such as <code>Cat|Dog</code> (default)
              <br>
              For linking to the current page on wiki, use <code>{{FULLPAGENAMEE}}</code>
            </dd>
            <dt>start</dt>
            <dd>
              Start date in the format <code>YYYY-MM-DD</code>, defaults to 20 days ago
              <br>
              Omit this parameter and the <code>end</code> parameter to show the most recent data
            </dd>
            <dt>end</dt>
            <dd>
              End date in the format <code>YYYY-MM-DD</code>, defaults to current date
            </dd>
            <dt>platform</dt>
            <dd>
              One of <code>user</code> (human viewer, default), <code>spider</code> (search engine crawlers), <code>bot</code> (WMF bots) or <code>all-agents</code> (user, spider and bot)
            </dd>
          </dl>
        </div>
        <div class='col-lg-10 text-center'>
          <hr>
          <a href='/pageviews'>Return to Pageviews Analysis</a>
        </div>
        <footer class='col-lg-10'>
          <span>
            Brought to you by
            <a href='https://en.wikipedia.org/wiki/User:MusikAnimal'>MusikAnimal</a>
            and
            <a href='https://wikimediafoundation.org/wiki/User:Mforns_(WMF)'>Marcel Ruiz Forns</a>.
          </span>
          <span class='nowrap'>
            Hosted with
            <span class='heart'>&hearts;</span>
            on
            <a href='https://wikitech.wikimedia.org/wiki/Portal:Tool_Labs'>Tool Labs</a>.
          </span>
          <div>
            <a href='/pageviews/faq'>FAQ</a>
            &middot;
            <a data-target='#disclaimer-modal' data-toggle='modal' href='#'>Disclaimer</a>
            &middot;
            <a href='/pageviews/url_structure'>URL Structure</a>
            &middot;
            <a href='https://github.com/MusikAnimal/pageviews'>View source</a>
            &middot;
            <a href='https://github.com/MusikAnimal/pageviews/issues'>Report an issue</a>
          </div>
        </footer>
        <div class='modal fade' id='disclaimer-modal' role='dialog' tabindex='-1'>
          <div class='modal-dialog' role='document'>
            <div class='modal-content'>
              <div class='modal-header'>
                <button arialabel='Close' class='close' data-dismiss='modal' type='button'>
                  <span ariahidden='true'>&times;</span>
                </button>
                <h4 class='modal-title'>Disclaimer</h4>
              </div>
              <div class='modal-body'>
                <div>
                  Pageviews Analysis fetches data via the <a href="https://wikimedia.org/api/rest_v1/?doc#/">Wikimedia REST API</a>.
                  This API is still listed to be in an
                  <b><a href="https://www.mediawiki.org/wiki/API_versioning#Experimental">experimental phase</a>.</b>
                  This means functionality <i>could</i> <b>break at any time without warning</b>. The
                  <a href="https://en.wikipedia.org/wiki/User:MusikAnimal">maintainer</a> of Pageviews Anaylsis will work to stay
                  up-to-date with API changes, but no promises can be made that the tool will indefinitely be stable until the API
                  is released as stable.
                </div>
              </div>
              <div class='modal-footer'>
                <button class='btn btn-primary' data-dismiss='modal' type='button'>OK</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
