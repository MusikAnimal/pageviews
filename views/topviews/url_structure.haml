- require_once __DIR__ . '/../../../config.php'
- $currentApp = 'topviews'
!!!
%html
  %head
    - include "../../_head.php"
    %title
      = $I18N->msg( 'topviews-title' ) . ' â€“ ' . $I18N->msg( 'url-structure' )
  %body(class="#{$rtl} #{$currentApp}-url-structure")
    - include '../../_header.php'

    %div.container
      %header.col-lg-12.text-center
        %h4
          %strong
            = $I18N->msg( 'topviews-title' )
          %small.app-description
            = $I18N->msg( 'url-structure' )

      %main.col-lg-10.col-lg-offset-1
        %div
          - $topviewsLink = "<pre dir='ltr' class='url-structure-example'>https://pageviews.toolforge.org/topviews?project=en.wikipedia.org</pre>"
          - $project = "<code>en.wikipedia.org</code>"
          - $sitematrixLink = "<a href='https://gerrit.wikimedia.org/r/plugins/gitiles/analytics/refinery/+/refs/heads/master/static_data/pageview/allowlist/allowlist.tsv'>" . strtolower( $I18N->msg( 'project' ) ) . "</a>"
          - $excludes = "<code>excludes</code>"
          = $I18N->msg( 'url-structure-topviews-example', [ 'variables' => [ $topviewsLink, $project, $sitematrixLink, $excludes ], 'parsemag' => true ] )

        %div
          %h3
            = $I18N->msg( 'url-structure-parameters' )
            %small= $I18N->msg( 'url-structure-parameters-order' )
          %hr
          %dl.dl-horizontal
            - include "../../url_parts/_project.php"
            %dt excludes
            %dd
              = $I18N->msg( 'url-structure-excludes' )

            %dt date
            %dd
              = $I18N->msg( 'url-structure-topviews-date', [ 'variables' => [ '<code>date</code>' ], 'parsemag' => true ] )
              %ul.special-ranges
                %li
                  %code last-month
                  = $I18N->msg( 'last-month' ) . " (" . strtolower( $I18N->msg( 'default' ) ) . ")"
                %li
                  %code yesterday
                %li
                  = $I18N->msg( 'url-structure-topviews-date-month', [ 'variables' => [ '<code>YYYY-MM</code>' ], 'parsemag' => true ] )
                %li
                  = $I18N->msg( 'url-structure-topviews-date-day', [ 'variables' => [ '<code>YYYY-MM-DD</code>' ], 'parsemag' => true ] )

            - include "../../url_parts/_platform.php"

            %dt mobileviews
            %dd= $I18N->msg( 'url-structure-topviews-mobileviews', [ 'variables' => [ $I18N->msg( 'show-mobile-percentages' ), '<code>platform</code>', '<code>all-access</code>' ] ] )

            %dt mainspace
            %dd= $I18N->msg( 'url-structure-topviews-mainspace' )

            - include "../../url_parts/_mute_validations.php"

        %div.col-lg-12.text-center.tm
          %a(href="/topviews")
            = $I18N->msg( 'faq-return-to', [ 'variables' => [ $I18N->msg( 'topviews-title' ) ], 'parsemag' => true ] )

      - include "../../_footer.php";
